<!DOCTYPE HTML>
<html lang="en" class="navy sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>🔂AnkiRestart - Shige addons Wiki</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "navy";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Shige addons Wiki</h1>

                    <div class="right-buttons">
                        <a href="https://www.patreon.com/Shigeyuki" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-envelope"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ankirestart"><a class="header" href="#ankirestart">🔂AnkiRestart</a></h1>
<p><strong>🔂AnkiRestart - Quick Aniki Rebooter, for Customize &amp; Develop (Created by Shige)</strong></p>
<p><img src="https://github.com/shigeyukey/AnkiRestart/assets/124401518/c636f95e-0a0a-4548-ac50-4f7aa3001258" alt="banner_AnkiRestart" /></p>
<a href="https://www.patreon.com/Shigeyuki" target="_blank">
    <img src="https://github.com/shigeyukey/AnkiRestart/assets/124401518/85368aad-6f50-4335-8858-7a30a66fb065" alt="reddit">
</a>
<h3>
    <a href="https://ankiweb.net/shared/info/237169833" target="_blank">AnkiWeb Page</a> | Code : <code>237169833</code>
</h3>
<br>
<ul>
<li><a href="#ankirestart">🔂AnkiRestart</a>
<ul>
<li><a href="#%EF%B8%8Ftutorial-video">📺️Tutorial video</a></li>
<li><a href="#description">📖Description</a></li>
</ul>
</li>
<li><a href="#%EF%B8%8Foptions">⚙️Options</a>
<ul>
<li><a href="#%EF%B8%8Foption-tab">⚙️Option tab</a></li>
<li><a href="#develop-tab">🔧Develop tab</a></li>
<li><a href="#sound-effect-tab">🔊Sound effect tab</a></li>
<li><a href="#%EF%B8%8Fcustom-tab">🛠️Custom tab</a></li>
<li><a href="#%EF%B8%8Fattention">⚠️Attention</a></li>
<li><a href="#other-tips">💡Other tips</a></li>
<li><a href="#report-problems-or-requests">🚨Report problems or requests</a></li>
<li><a href="#-how-do-i-install-this-add-on">📥 How do I install this add-on?</a></li>
</ul>
</li>
</ul>
<h2 id="tutorial-video"><a class="header" href="#tutorial-video">📺️Tutorial video</a></h2>
<iframe src="https://www.youtube.com/embed/q8c_POBOcMg?list=PLZhrgD6s-LFVsEhxRdEHf_OkGVe2YZfeo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="aspect-ratio: 16/9; width: 100%;"></iframe>
<p><a href="https://www.youtube.com/@FixerMed">FixerMed</a> explained how to use it on Youtube! Thank you!🙏</p>
<iframe src="https://www.youtube.com/embed/8pDTV8sMNEI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="aspect-ratio: 16/9; width: 100%;"></iframe>
<h2 id="description"><a class="header" href="#description">📖Description</a></h2>
<p>This add-on is for quickly restarting Anki. It can be used for add-ons that need to be restarted when settings are changed (e.g.
<a href="https://ankiweb.net/shared/info/1959668791" target="_blank">Anki Redesign</a>,
<a href="https://ankiweb.net/shared/info/1136455830" target="_blank">Advanced Review Bottom Bar</a>),
or for developing add-ons.<br></p>
<p>Anki doesn't allow 2 Anki's to be started at the same time, so to restart Anki, you need to wait a little while until Anki is completely closed. This add-on watches for Anki to be completely terminated and automatically restarts it, thus ensuring a reliable restart with one click.<br></p>
<p>When you press the restart button on the menu bar, it skips the sync, waits for Anki to close, and then runs a new Anki.<br>
You can also use the shortcut keys to restart (defaults to Ctrl+Shift+R).<br></p>
<br>
<h1 id="options"><a class="header" href="#options">⚙️Options</a></h1>
<h2 id="option-tab"><a class="header" href="#option-tab">⚙️Option tab</a></h2>
<p><img src="images/AnkiRestart/01_option.png" alt="alt text" /></p>
<ol>
<li><strong>show/hide icons on menu bar.</strong>
<ul>
<li>Show or hide the restart icon displayed in Anki's menu bar.</li>
</ul>
</li>
<li><strong>Restart After Updating Addons.</strong>
<ul>
<li>After updating add-ons at Anki startup or by the addons manager, the AnkiRestart dialog pops up.</li>
</ul>
</li>
<li><strong>Restart Shortcut key (Default is Ctrl+Shift+R)</strong>
<ul>
<li>Shortcut keys can be set freely. If it does not work, the key may be wrong or it may interfere with other shortcut keys.</li>
</ul>
</li>
<li><strong>Disable suto sync when restarting</strong>
<ul>
<li>This add-on has a function to turn off auto-sync for faster restart.
Basically auto-sync is restored, but sometimes there is a problem that auto-sync is not restored and is turned off after repeated restarts.
This can be disabled with this setting.</li>
</ul>
</li>
</ol>
<h2 id="develop-tab"><a class="header" href="#develop-tab">🔧Develop tab</a></h2>
<p><img src="images/AnkiRestart/02_divelop.png" alt="alt text" /></p>
<ol>
<li><strong>Restart SafeMode Enabled</strong>
<ul>
<li>Enables/disables the function to restart while holding down the Shift key (Safe mode, Start with all add-ons turned off). This restart can be accessed from the menu. Safe mode may be used in case of problems caused by add-ons.</li>
</ul>
</li>
<li><strong>Auto Restart After SafeMode</strong>
<ul>
<li>When in safe mode, add-ons are not available thus AnkiRestart is also not available. This option will auto restart Anki when you close Anki in safe mode.</li>
</ul>
</li>
<li><strong>Show console(Windows,unstable)</strong>
<ul>
<li>Show console after restarting Anki. (The console is used for add-on or Anki development.) This feature is required only on Windows. It is not necessary on Mac or Linux, as the console is show auto after restarting.</li>
</ul>
</li>
<li><strong>No use executable file(Linux/Mac)</strong>
<ul>
<li>On Mac and Linux it may be possible to restart without using the executable file(.exe, .app) for restarting (On Windows it is essential). If you cannot restart successfully, try turning this off.</li>
</ul>
</li>
</ol>
<h2 id="sound-effect-tab"><a class="header" href="#sound-effect-tab">🔊Sound effect tab</a></h2>
<p><img src="images/AnkiRestart/03.png" alt="alt text" /></p>
<ol>
<li><strong>Sound Effect</strong>
<ul>
<li>Play sound when restarting. This useless function is embedded in the add-ons I developed for gamification.</li>
</ul>
</li>
<li><strong>Error Animation</strong>
<ul>
<li>Play animation when an error occurs. It is developed to display when an executable file (.exe, .app) has been deleted by Virus Buster. There have been no reports of this problem so far so it may not occur.</li>
</ul>
</li>
</ol>
<h2 id="custom-tab"><a class="header" href="#custom-tab">🛠️Custom tab</a></h2>
<p><img src="images/AnkiRestart/04.png" alt="alt text" /></p>
<ol>
<li><strong>Use Anki path Manually</strong>
<ul>
<li>e.g. <code>C:\Program Files\Anki\anki.exe</code>. <code>""</code> is not necessary.</li>
<li>Specify directly anki.exe, anki-console.bat, etc.</li>
<li>Setting up anki-console.bat on Windows will almost certainly display the console after restarting Anki.</li>
<li>If you have multiple Anki installed and set the version, you can start and debug with the old Anki after restarting.</li>
</ul>
</li>
<li><strong>Use custom base folder(-b)</strong>
<ul>
<li>e.g. <code>C:\AnkiDataFolder</code>. <code>""</code> and <code>-b</code> are not necessary.</li>
<li>For booting Anki from portable USB, or another database.</li>
<li>If you use a different database, you can safely develop without using your study data, or change the add-ons to something else for debugging.</li>
<li>See AnkiManual for more information on these startup options: <a href="https://docs.ankiweb.net/files.html#startup-options" target="_blank">AnkiManual : startup-options</a></li>
</ul>
</li>
</ol>
<h2 id="attention"><a class="header" href="#attention">⚠️Attention</a></h2>
<p>This add-on is separated from Anki in purpose of restarting Anki, so there is a high possibility of mis-detection by antivirus software. This problem is solvable, but requires $200+ per year (Code Signing), so I'm not considering it at now.</p>
<ul>
<li><strong>1. [ 🖥️Windows ]</strong> If your antivirus software mis-detects add-on, the ".exe" will be quarantined. It's labeled Trojan but it's a mis-detection, so no danger. In this case, this add-on cannot be used without Allow on device. (Edit : So far there are no reports of this problem, so it may not happen that often?)</li>
<li><strong>2. [ 🍎Mac ]</strong> I have fixed the bug so it will probably work.</li>
<li><strong>3. [ 🐧Linax ]</strong> The executable file is created in Ubuntu and PyInstaller (AnkiRestart.py), so it may not work properly except in Ubuntu. You can enable "No use executable file (Linux/Mac)" to restart without using the executable file, but it may duplicate instances of Anki.</li>
</ul>
<p><img src="https://github.com/shigeyukey/AnkiRestart/assets/124401518/6954b6af-1009-4636-9395-db8f4521100d" alt="image" /></p>
<br>
<h2 id="other-tips"><a class="header" href="#other-tips">💡Other tips</a></h2>
<p>
    According to <a href="https://forums.ankiweb.net/t/ankirestart-support-thread/34465/15" target="_blank">basiskarten's post</a>, this code in AutoHotkey will restart Anki with a shortcut key.
</p>
<blockquote>
<p>I use the following AutoHotkey (v2) script to quickly restart Anki by pressing Win+N when Anki’s main window is active. When I press Control+Win+N the script also toggles night mode on or off before restarting. (For languages other than German the script would have to be modified slightly for this to work.)</p>
</blockquote>
<div style="width: 600px; height: 200px; overflow: auto; border: 1px solid #ccc; padding: 10px;">
<pre>
<code>
#SingleInstance Force
#Requires AutoHotkey v2.0-
<p>#HotIf WinActive("ahk_exe anki.exe")</p>
<p>#HotIf WinActive("- Anki")</p>
<p>#N:: ; Restart Anki with the same profile by pressing Win+N when the Anki-window is active.
{
profile := RegExReplace(WinGetTitle("A"), " - Anki$")
path := WinGetProcessPath("A")
Send "!{F4}"
ProcessWaitClose("anki.exe")
Run path ' -p "' profile '"'
}</p>
<p>^#N:: ; Restart Anki with the same profile by pressing Win+N when the Anki-window is active - but also toggle nightmode
{
profile := RegExReplace(WinGetTitle("A"), " - Anki$")
path := WinGetProcessPath("A")
Send "^p"
WinWaitActive("Einstellungen")
MouseClick("Left", 47, 74)
Send "{Tab 7}{Space}{Esc}"
WinWaitActive("Anki")
Send "{Enter}"
WinWaitActive(profile)
Send "!{F4}"
ProcessWaitClose("anki.exe")
Run path ' -p "' profile '"'
}</p>
<p>#HotIf</p>
<p>#HotIf
</code>
</pre></p>
</div>
<br>
<h2 id="report-problems-or-requests"><a class="header" href="#report-problems-or-requests">🚨Report problems or requests</a></h2>
<p>If you have any problems or requests feel free to send them to me.</p>
<ol>
<li><a href="https://ankiweb.net/shared/review/237169833" target="_blank">👍️Rate Comment</a> : You can contact me anonymously, and AnkiWeb will send you an email when I reply, a high rating increases priority of development.</li>
<li><a href="https://forums.ankiweb.net/t/ankirestart-support-thread/34465" target="_blank">🌟AnkiForums</a> : It is useful when you want to explain in detail or need a reply.</li>
<li><a href="https://github.com/shigeyukey/my_addons/issues" target="_blank">🐙Github</a> : For developers or advanced users. Track issues long term and discuss them in detail.</li>
<li><a href="https://www.reddit.com/r/Anki/comments/1b0eybn/simple_fix_of_broken_addons_for_the_latest_anki/" target="_blank">👩‍🚀Reddit </a> : You can request me to repair broken Add-ons.</li>
<li><a href="https://www.patreon.com/Shigeyuki" target="_blank">💖Patreon</a> : Response will be prioritized.</li>
</ol>
<br>
<br>
<h2 id="-how-do-i-install-this-add-on"><a class="header" href="#-how-do-i-install-this-add-on">📥 How do I install this add-on?</a></h2>
<ol>
<li>Copy and paste the add-on code ( <code>237169833</code> )  into Anki and you can install it.<br>
( <em>Menu -&gt; Tools -&gt; Add-ons -&gt; Get Add-ons -&gt; Code [ add-on code ]</em> )</li>
<li>When I develop bug fixes, create new features, or compatibility for New Anki,<br>
I will notify you and you can install it.</li>
<li>Add-ons will be broken when the official Anki gets a major update, so if you like this add-on please support my volunteer development by rating, sharing, and donating. Thank you!</li>
</ol>
<a href="https://ankiweb.net/shared/review/237169833" target="_blank">
    Click here and please Rate this add-on, Thank you! :-) <br>
    <img src="https://raw.githubusercontent.com/shigeyukey/my_addons/main/media_files/rate_this.gif" alt="Please rate this">
</a>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="rewrite-text-of-study-cards.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="debug_info.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="rewrite-text-of-study-cards.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="debug_info.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
